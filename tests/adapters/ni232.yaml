# custom yaml file for use with pyvisa-sim on the ni232 tests
# based on the 
spec: "1.1"
devices:
  device 1:
    eom:
      ASRL INSTR:
        q: "\r"
        r: "\r\n"
    dialogues:
      - q: "EOS D"
      - q: "STAT"
      - q: "stat n"
        r: !!str "256\r\n0\r\n0\r\n0\r\n"
      - q: "*IDN?"
        r: "SCPI,MOCK,VERSION_1.0"
    error:
      error_queue:
        - q: ':SYST:ERR\?'
          default: '0, No Error'
          command_error: '1, Command error'
    properties:
      voltage:
        default: 1.0
        getter:
          q: ":VOLT:IMM:AMPL?"
          r: "{:+.8E}"
        setter:
          q: ":VOLT:IMM:AMPL {:.3f}"
        specs:
          min: 1
          max: 6
          type: float
          
  device 4:
    eom:
      ASRL INSTR:
        q: "\r\n"
        r: "\n"
      USB INSTR:
        q: "\n"
        r: "\n"
      TCPIP INSTR:
        q: "\n"
        r: "\n"
      GPIB INSTR:
        q: "\n"
        r: "\n"
    dialogues:
      - q: "*IDN?"
        r: "SCPI,MOCK,VERSION_1.0"
    error:
      error_queue:
        - q: ':SYST:ERR?'
          default: '0, No Error'
          command_error: '1, Command error'
    properties:
      voltage:
        default: 1.0
        getter:
          q: ":VOLT:IMM:AMPL?"
          r: "{:+.8E}"
        setter:
          q: ":VOLT:IMM:AMPL {:.3f}"
        specs:
          min: 1
          max: 6
          type: float


resources:
  ASRL8::INSTR:
    device: device 1
  GPIB::23::INSTR:
    device: device 4

    

